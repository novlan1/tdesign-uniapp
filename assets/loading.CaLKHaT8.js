import{p as e,q as t,s,v as n,x as r,c as a,w as i,n as o,h as l,i as c,o as u,k as p,a as f,y as d,l as y,F as h,z as m,f as g,t as b}from"./index-Ckd-SSkI.js";function v(e,t,s,n){let r=arguments.length;var a,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(let o=e.length-1;o>=0;o--)(a=e[o])&&(i=(r<3?a(i):r>3?a(t,s,i):a(t,s))||i);return r>3&&i&&Object.defineProperty(t,s,i),i}function x(e,t,s,n){return new(s||(s=Promise))((r,a)=>{function i(e){try{l(n.next(e))}catch(t){a(t)}}function o(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s(e=>{e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;const _="WILL_SET_DATA_KEY";function j(e,t){if(!e.props)return e;const{props:s}=e,n={};return console.log("info.props",e.props),Object.keys(s).forEach(e=>{n[e]={type:s[e].type},s[e].value&&(n[e].default=s[e].value)}),console.log("this",t),{...e,props:n,methods:{...e.methods||{},...e._||{}}}}function O(e){console.log("this",this),this[_]=e}class k{constructor(){this.setData=O.bind(this),this.app=e()}}function S(e){return!(e=>void 0===e)(e)&&!(e=>null===e)(e)}function P(e){return/^\d+(\.\d+)?$/.test(e)}const w=()=>n&&n()||s(),E=()=>t&&t()||s(),$=()=>r&&r()||s();let C;function D(e,t){e=e.split("."),t=t.split(".");const s=Math.max(e.length,t.length);for(;e.length<s;)e.push("0");for(;t.length<s;)t.push("0");for(let n=0;n<s;n+=1){const s=parseInt(e[n],10),r=parseInt(t[n],10);if(s>r)return 1;if(s<r)return-1}return 0}function B(e){return D((null==C&&(C=E()),C).SDKVersion,e)>=0}const N=["Created","Attached","Ready","Moved","Detached","Error"].map(e=>e.toLowerCase()),A=["properties","data","observers","methods","behaviors",...N,"relations","externalClasses","options","lifetimes","pageLifeTimes","definitionFilter"],L=function(e){console.log("toComponent.e",e);const{relations:t,behaviors:s=[],externalClasses:n=[]}=e;e.properties&&(Object.keys(e.properties).forEach(t=>{let s=e.properties[t];(function(e){return null!==e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)})(s)||(s={type:s}),e.properties[t]=s}),[{key:"ariaHidden",type:Boolean},{key:"ariaRole",type:String},{key:"ariaLabel",type:String},{key:"ariaLabelledby",type:String},{key:"ariaDescribedby",type:String},{key:"ariaBusy",type:Boolean}].forEach(({key:t,type:s})=>{e.properties[t]={type:s}}),e.properties.style={type:String,value:""},e.properties.customStyle={type:String,value:""}),e.methods||(e.methods={}),e.lifetimes||(e.lifetimes={});const r={};if(t){const e=(e,t)=>Behavior({created(){Object.defineProperty(this,`$${e}`,{get:()=>{const s=this.getRelationNodes(t)||[];return"parent"===e?s[0]:s}})}}),n={};Object.keys(t).forEach(s=>{const r=t[s],a=["parent","ancestor"].includes(r.type)?"parent":"children",i=e(a,s);n[a]=i}),s.push(...Object.keys(n).map(e=>n[e]))}if(e.behaviors=[...s],e.externalClasses=["class",...n],Object.getOwnPropertyNames(e).forEach(t=>{const s=Object.getOwnPropertyDescriptor(e,t);s&&(N.indexOf(t)<0&&"function"==typeof s.value?(Object.defineProperty(e.methods,t,s),delete e[t]):A.indexOf(t)<0?r[t]=s:N.indexOf(t)>=0&&(e.lifetimes[t]=e[t]))}),Object.keys(r).length){const t=e.lifetimes.created,s=e.lifetimes.attached,{controlledProps:n=[]}=e;e.lifetimes.created=function(...e){Object.defineProperties(this,r),t&&t.apply(this,e)},e.lifetimes.attached=function(...e){s&&s.apply(this,e),n.forEach(({key:e})=>{const t=`default${e.replace(/^(\w)/,(e,t)=>t.toUpperCase())}`,s=this;null==s[e]&&(this._selfControlled=!0),null==s[e]&&null!=s[t]&&this.setData({[e]:s[t]})})},e.methods._trigger=function(e,t,s){const r=n.find(t=>t.event===e);if(r){const{key:e}=r;this._selfControlled&&this.setData({[e]:t[e]})}this.$emit(e,{detail:t},s)}}return e},R=function(){return function(e){const t=new class extends e{};console.log("t",t),console.log("e",e),t.options=t.options||{},B("2.19.2")&&(t.options.virtualHost=!0);return L(t)}},z={prefix:"t"},T={delay:{type:Number,value:0},duration:{type:Number,value:800},fullscreen:{type:Boolean,value:!1},indicator:{type:Boolean,value:!0},inheritColor:{type:Boolean,value:!1},layout:{type:String,value:"horizontal"},loading:{type:Boolean,value:!0},pause:{type:Boolean,value:!1},progress:{type:Number},reverse:{type:Boolean},size:{type:String,value:"20px"},text:{type:String},theme:{type:String,value:"circular"}};function I(){var e=Array.prototype.slice.call(arguments);return e.unshift(RegExp),new(Function.prototype.bind.apply(RegExp,e))}function U(e){return e&&"Array"===e.constructor}function F(e){return e&&"Object"===e.constructor}const H={addUnit:function(e){var t=I("^-?d+(.d+)?$");if(null!=e)return t.test(""+e)?e+"px":e},isString:function(e){return e&&"String"===e.constructor},isArray:U,isObject:F,isBoolean:function(e){return"boolean"==typeof e},isNoEmptyObj:function(e){return F(e)&&"{}"!==JSON.stringify(e)},includes:function(e,t){if(!e||!U(e))return!1;for(var s=0,n=e.length;s<n;s++)if(e[s]===t)return!0;return!1},cls:function(e,t){for(var s=[e],n=0,r=t.length;n<r;n++){var a=t[n];if(a&&"Array"===a.constructor){var i=t[n][0];t[n][1]&&s.push(e+"--"+i)}else"string"!=typeof a&&"number"!=typeof a||a&&s.push(e+"--"+a)}return s.join(" ")},getBadgeAriaLabel:function(e){var t=e.maxCount||99;if(e.dot)return"有新的消息";if("..."===e.count)return"有很多消息";if(isNaN(e.count))return e.count;var s="有"+t+"+条消息",n="有"+e.count+"条消息";return Number(e.count)>t?s:n},_style:function e(t){return U(t)?t.filter(function(e){return null!=e&&""!==e}).map(function(t){return U(t)?e(t):(n=";",(s=t).slice(-n.length)===n?s:s+n);var s,n}).join(" "):F(t)?(s=t,JSON.stringify(s).replace(I('{|}|"',"g"),"").split(",").map(function(e){return e.split(":")[0]})).filter(function(e){return null!=t[e]&&""!==t[e]}).map(function(e){return[(s=e,s.replace(I("[A-Z]","g"),function(e){return"-"+e}).toLowerCase()),[t[e]]].join(":");var s}).join(";"):t;var s},isValidIconName:function(e){return I("^[A-Za-z0-9-]+$").test(e)}},J=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},{prefix:K}=z,M=`${K}-loading`;let V=class extends k{constructor(){super(...arguments),this.externalClasses=[`${K}-class`,`${K}-class-text`,`${K}-class-indicator`],this.setData({prefix:K,classPrefix:M,show:!0}),this.options={multipleSlots:!0},this.props=T,this._=H,this.timer=null,this.observers={loading(e){const{delay:t}=this;this.timer&&clearTimeout(this.timer),e&&t?this.timer=setTimeout(()=>{this.setData({show:e}),this.timer=null},t):this.setData({show:e})}},this.lifetimes={detached(){clearTimeout(this.timer)}}}refreshPage(){this.$emit("reload")}};V=function(e){const t=e.created;return{created(){const s=this.$options[_],n=e._;console.log("[created.willSetData]",s),t&&t.call(this),this.setData=function(e){Object.keys(e).forEach(e=>{this.$set(this,e,s[e])})},s&&Object.keys(s).forEach(e=>{this[e]=s[e]}),console.log("commonWxs",n),n&&Object.keys(n).forEach(e=>{this._[e]=n[e]})},mounted(){},...j(e)}}(v([R()],V)),console.log("loading",V);const W=J(V,[["render",function(e,t,s,n,r,v){const x=c;return u(),a(x,{style:l(e._._style([e.style,e.customStyle,e.show?"":"display: none",e.inheritColor?"color: inherit":""])),class:o("class "+e.prefix+"-class "+e.classPrefix+" "+e.classPrefix+"--"+e.layout+" "+(e.fullscreen?e.classPrefix+"--fullscreen":""))},{default:i(()=>[e.indicator?(u(),a(x,{key:0,class:o(e.prefix+"-class-indicator "+e.classPrefix+"__spinner "+e.classPrefix+"__spinner--"+e.theme+" "+(e.reverse?"reverse":"")),style:l("width: "+e._.addUnit(e.size)+"; height: "+e._.addUnit(e.size)+"; "+(e.inheritColor?"color: inherit;":"")+" "+(e.indicator?"":"display: none;")+" "+(e.duration?"animation-duration: "+e.duration/1e3+"s;":"")+" animation-play-state: "+(e.pause?"paused":"running")+";"),"aria-role":e.ariaRole||"img","aria-label":e.ariaLabel||e.text||"加载中"},{default:i(()=>["spinner"===e.theme?(u(),d(h,{key:0},m(12,(t,s)=>f(x,{key:s,class:o(e.classPrefix+"__dot "+e.classPrefix+"__dot-"+s)},null,8,["class"])),64)):p("",!0),"circular"===e.theme?(u(),a(x,{key:1,class:o(e.classPrefix+"__circular")},null,8,["class"])):p("",!0),"dots"===e.theme?(u(),d(h,{key:2},[f(x,{class:o(e.classPrefix+"__dot"),style:l((e.duration?"animation-duration: "+e.duration/1e3+"s; animation-delay:0s;":"")+" animation-play-state: "+(e.pause?"paused":"running")+";")},null,8,["class","style"]),f(x,{class:o(e.classPrefix+"__dot"),style:l((e.duration?"animation-duration: "+e.duration/1e3+"s; animation-delay:"+1*e.duration/3e3+"s;":"")+" animation-play-state: "+(e.pause?"paused":"running")+";")},null,8,["class","style"]),f(x,{class:o(e.classPrefix+"__dot"),style:l((e.duration?"animation-duration: "+e.duration/1e3+"s; animation-delay:"+2*e.duration/3e3+"s;":"")+" animation-play-state: "+(e.pause?"paused":"running")+";")},null,8,["class","style"])],64)):p("",!0),y(e.$slots,"indicator",{},void 0,!0)]),_:3},8,["class","style","aria-role","aria-label"])):p("",!0),f(x,{class:o(e._.cls(e.classPrefix+"__text",[e.layout])+" "+e.prefix+"-class-text"),"aria-hidden":e.indicator,"aria-label":e.ariaLabel||e.text},{default:i(()=>[e.text?(u(),d(h,{key:0},[g(b(e.text),1)],64)):p("",!0),y(e.$slots,"text",{},void 0,!0),y(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","aria-hidden","aria-label"])]),_:3},8,["style","class"])}],["__scopeId","data-v-e5abee2a"]]);export{k as S,J as _,P as a,w as b,$ as c,I as d,v as e,z as f,E as g,x as h,S as i,D as j,W as t,R as w};
